<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html;charset=UTF-8" http-equiv="Content-Type">
    <title>Dart-CoCo: Reporting tools for Dart</title>
        <link rel="stylesheet" type="text/css" href="../resources/main.css" />
    <script type="text/javascript" src="../resources/report.js"></script>
          <link rel="stylesheet" type="text/css" href="../resources/source.css" />
      <script type="text/javascript" src="../resources/source.js"></script>
      <link rel="stylesheet" type="text/css" href="lib.screens.home.bars_screen.dart.css" />
      
</head>
<body onload="window['PR_TAB_WIDTH']=4;">
<div class="breadcrumb" id="breadcrumb">
        <a class="el_report" href="../index.html">Dart-CoCo</a>
    >
    <a class="el_package" href="../packages/lib.screens.home.html">lib.screens.home</a>
    >
    <a class="el_class" href="../classes/lib.screens.home.bars_screen.dart.html">bars_screen</a> 
    >
    <a class="el_source" href="../sources/lib.screens.home.bars_screen.dart.html">bars_screen.dart</a> 
    
</div>
<h1>Dart-CoCo</h1>

<pre class="source lang-dart linenums"><ol class="linenums"><li class="L0"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;dart:ui&apos;</span><span class="pln">;</span></li><li class="L1"></li><li class="L2"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:flutter/cupertino.dart&apos;</span><span class="pln">;</span></li><li class="L3"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:flutter/material.dart&apos;</span><span class="pln">;</span></li><li class="L4"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:flutter/painting.dart&apos;</span><span class="pln">;</span></li><li class="L5"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:flutter/widgets.dart&apos;</span><span class="pln">;</span></li><li class="L6"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:intl/intl.dart&apos;</span><span class="pln">;</span></li><li class="L7"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:liquor/modules/bar.dart&apos;</span><span class="pln">;</span></li><li class="L8"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:liquor/services/db.dart&apos;</span><span class="pln">;</span></li><li class="L9"><span class="pln"></span><span class="kwd">import</span><span class="pln"> </span><span class="str">&apos;package:provider/provider.dart&apos;</span><span class="pln">;</span></li><li class="L10"></li><li class="L11"><span class="pln"></span><span class="kwd">class</span><span class="pln"> BarsPage </span><span class="kwd">extends </span><span class="pln">StatelessWidget {</span></li><li class="L12"><span class="pln">  </span><span class="kwd">final </span><span class="pln">db = DatabaseService();</span></li><li class="L13"></li><li class="L14"><span class="pln">  </span><span class="pln">@override</span></li><li class="L15"><span class="pln">  Widget build(BuildContext context) {</span></li><li class="L16"><span class="pln">    </span><span class="kwd">return </span><span class="pln">StreamProvider&lt;List&lt;Bar&gt;&gt;.value(</span></li><li class="L17"><span class="pln">      value: db.barStream(),</span></li><li class="L18"><span class="pln">      child: BarList(),</span></li><li class="L19"><span class="pln">    );</span></li><li class="L20"><span class="pln">  }</span></li><li class="L21"><span class="pln">}</span></li><li class="L22"></li><li class="L23"><span class="pln"></span><span class="kwd">class</span><span class="pln"> BarList </span><span class="kwd">extends </span><span class="pln">StatelessWidget {</span></li><li class="L24"><span class="pln">  </span><span class="pln">@override</span></li><li class="L25"><span class="pln">  Widget build(BuildContext context) {</span></li><li class="L26"><span class="pln">    List&lt;Bar&gt; bars = Provider.of&lt;List&lt;Bar&gt;&gt;(context);</span></li><li class="L27"><span class="pln">    </span><span class="kwd">if </span><span class="pln">(bars == null) </span><span class="kwd">return </span><span class="pln">Center(child: CircularProgressIndicator());</span></li><li class="L28"><span class="pln">    </span><span class="kwd">return </span><span class="pln"></span><span class="typ">List</span><span class="pln">View.builder(</span></li><li class="L29"><span class="pln">      itemCount: bars.length,</span></li><li class="L30"><span class="pln">      itemBuilder: (context, index) =&gt; _buildListItem(context, bars[index]),</span></li><li class="L31"><span class="pln">    );</span></li><li class="L32"><span class="pln">  }</span></li><li class="L33"></li><li class="L34"><span class="pln">  Widget _buildListItem(BuildContext context, Bar bar) {</span></li><li class="L35"><span class="pln">    Address address = bar.address;</span></li><li class="L36"><span class="pln">    Hours hours = bar.hours;</span></li><li class="L37"><span class="pln">    Hours happy = bar.happyHours;</span></li><li class="L38"></li><li class="L39"><span class="pln">    </span><span class="kwd">return </span><span class="pln">Card(</span></li><li class="L40"><span class="pln">      shape: RoundedRectangleBorder(</span></li><li class="L41"><span class="pln">        borderRadius: BorderRadius.all(Radius.circular(12.0)),</span></li><li class="L42"><span class="pln">      ),</span></li><li class="L43"><span class="pln">      elevation: 2,</span></li><li class="L44"><span class="pln">      margin: EdgeInsets.all(8.0),</span></li><li class="L45"><span class="pln">      child: Padding(</span></li><li class="L46"><span class="pln">        padding: </span><span class="kwd">const </span><span class="pln">EdgeInsets.all(8.0),</span></li><li class="L47"><span class="pln">        child: ExpansionTile(</span></li><li class="L48"><span class="pln">          title: Text(</span></li><li class="L49"><span class="pln">            bar.name,</span></li><li class="L50"><span class="pln">          ),</span></li><li class="L51"><span class="pln">          trailing: SizedBox(),</span></li><li class="L52"><span class="pln">          children: &lt;Widget&gt;[</span></li><li class="L53"><span class="pln">            Padding(</span></li><li class="L54"><span class="pln">              padding: </span><span class="kwd">const </span><span class="pln">EdgeInsets.only(left: 12.0, bottom: 12.0),</span></li><li class="L55"><span class="pln">              child: Column(</span></li><li class="L56"><span class="pln">                mainAxisAlignment: MainAxisAlignment.start,</span></li><li class="L57"><span class="pln">                crossAxisAlignment: CrossAxisAlignment.start,</span></li><li class="L58"><span class="pln">                children: &lt;Widget&gt;[</span></li><li class="L59"><span class="pln">                  Row(</span></li><li class="L60"><span class="pln">                    children: &lt;Widget&gt;[</span></li><li class="L61"><span class="pln">                      displayCurrentHours(</span></li><li class="L62"><span class="pln">                        message: </span><span class="str">&apos;Hours&apos;</span><span class="pln">,</span></li><li class="L63"><span class="pln">                        hours: hours,</span></li><li class="L64"><span class="pln">                        context: context,</span></li><li class="L65"><span class="pln">                      ),</span></li><li class="L66"><span class="pln">                      Padding(</span></li><li class="L67"><span class="pln">                        padding: </span><span class="kwd">const </span><span class="pln">EdgeInsets.only(</span></li><li class="L68"><span class="pln">                          left: 12.0,</span></li><li class="L69"><span class="pln">                        ),</span></li><li class="L70"><span class="pln">                        child: displayCurrentHours(</span></li><li class="L71"><span class="pln">                          message: </span><span class="str">&apos;Happy Hours&apos;</span><span class="pln">,</span></li><li class="L72"><span class="pln">                          hours: happy,</span></li><li class="L73"><span class="pln">                          context: context,</span></li><li class="L74"><span class="pln">                        ),</span></li><li class="L75"><span class="pln">                      ),</span></li><li class="L76"><span class="pln">                    ],</span></li><li class="L77"><span class="pln">                  ),</span></li><li class="L78"><span class="pln">                  Padding(</span></li><li class="L79"><span class="pln">                    padding: </span><span class="kwd">const </span><span class="pln">EdgeInsets.only(</span></li><li class="L80"><span class="pln">                      top: 12.0,</span></li><li class="L81"><span class="pln">                    ),</span></li><li class="L82"><span class="pln">                    child: Text(</span><span class="str">&apos;Address: ${address.street}, ${address.city}, &apos;</span></li><li class="L83"><span class="pln">                        </span><span class="str">&apos;${address.state} ${address.zip}&apos;</span><span class="pln">),</span></li><li class="L84"><span class="pln">                  ),</span></li><li class="L85"><span class="pln">                ],</span></li><li class="L86"><span class="pln">              ),</span></li><li class="L87"><span class="pln">            )</span></li><li class="L88"><span class="pln">          ],</span></li><li class="L89"><span class="pln">        ),</span></li><li class="L90"><span class="pln">      ),</span></li><li class="L91"><span class="pln">    );</span></li><li class="L92"><span class="pln">  }</span></li><li class="L93"></li><li class="L94"><span class="pln">  Widget displayCurrentHours(</span></li><li class="L95"><span class="pln">      {String message, Hours hours, BuildContext context}) {</span></li><li class="L96"><span class="pln">    DateTime date = DateTime.now();</span></li><li class="L97"><span class="pln">    </span><span class="typ">String </span><span class="pln">day = DateFormat(</span><span class="str">&apos;EEEE&apos;</span><span class="pln">).format(date);</span></li><li class="L98"></li><li class="L99"><span class="pln">    </span><span class="kwd">return </span><span class="pln">Column(</span></li><li class="L100"><span class="pln">      crossAxisAlignment: CrossAxisAlignment.start,</span></li><li class="L101"><span class="pln">      children: &lt;Widget&gt;[</span></li><li class="L102"><span class="pln">        Text(</span><span class="str">&apos;$message: &apos;</span><span class="pln">),</span></li><li class="L103"><span class="pln">        getCurrentHours(day, hours),</span></li><li class="L104"><span class="pln">        OutlineButton(</span></li><li class="L105"><span class="pln">          child: Text(</span><span class="str">&apos;See more hours&apos;</span><span class="pln">),</span></li><li class="L106"><span class="pln">          onPressed: () {</span></li><li class="L107"><span class="pln">            showDialog(</span></li><li class="L108"><span class="pln">              context: context,</span></li><li class="L109"><span class="pln">              builder: (BuildContext context) {</span></li><li class="L110"><span class="pln">                </span><span class="kwd">return </span><span class="pln">SimpleDialog(</span></li><li class="L111"><span class="pln">                  title: Text(message),</span></li><li class="L112"><span class="pln">                  children: &lt;Widget&gt;[</span></li><li class="L113"><span class="pln">                    Column(</span></li><li class="L114"><span class="pln">                      children: &lt;Widget&gt;[</span></li><li class="L115"><span class="pln">                        Text(</span><span class="str">&apos;Sunday ${hours.Sunday}&apos;</span><span class="pln">),</span></li><li class="L116"><span class="pln">                        Text(</span><span class="str">&apos;Monday ${hours.Monday}&apos;</span><span class="pln">),</span></li><li class="L117"><span class="pln">                        Text(</span><span class="str">&apos;Tuesday ${hours.Tuesday}&apos;</span><span class="pln">),</span></li><li class="L118"><span class="pln">                        Text(</span><span class="str">&apos;Wednesday ${hours.Wednesday}&apos;</span><span class="pln">),</span></li><li class="L119"><span class="pln">                        Text(</span><span class="str">&apos;Thursday ${hours.Thursday}&apos;</span><span class="pln">),</span></li><li class="L120"><span class="pln">                        Text(</span><span class="str">&apos;Friday ${hours.Friday}&apos;</span><span class="pln">),</span></li><li class="L121"><span class="pln">                        Text(</span><span class="str">&apos;Saturday ${hours.Saturday}&apos;</span><span class="pln">),</span></li><li class="L122"><span class="pln">                      ],</span></li><li class="L123"><span class="pln">                    )</span></li><li class="L124"><span class="pln">                  ],</span></li><li class="L125"><span class="pln">                );</span></li><li class="L126"><span class="pln">              },</span></li><li class="L127"><span class="pln">            );</span></li><li class="L128"><span class="pln">          },</span></li><li class="L129"><span class="pln">        ),</span></li><li class="L130"><span class="pln">      ],</span></li><li class="L131"><span class="pln">    );</span></li><li class="L132"><span class="pln">  }</span></li><li class="L133"></li><li class="L134"><span class="pln">  Widget getCurrentHours(String day, Hours hours) {</span></li><li class="L135"><span class="pln">    </span><span class="kwd">switch </span><span class="pln">(day) {</span></li><li class="L136"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Sunday&apos;</span><span class="pln">:</span></li><li class="L137"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Sunday}&apos;</span><span class="pln">);</span></li><li class="L138"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Monday&apos;</span><span class="pln">:</span></li><li class="L139"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Monday}&apos;</span><span class="pln">);</span></li><li class="L140"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Tuesday&apos;</span><span class="pln">:</span></li><li class="L141"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Tuesday}&apos;</span><span class="pln">);</span></li><li class="L142"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Wednesday&apos;</span><span class="pln">:</span></li><li class="L143"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Wednesday}&apos;</span><span class="pln">);</span></li><li class="L144"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Thursday&apos;</span><span class="pln">:</span></li><li class="L145"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Thursday}&apos;</span><span class="pln">);</span></li><li class="L146"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Friday&apos;</span><span class="pln">:</span></li><li class="L147"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Friday}&apos;</span><span class="pln">);</span></li><li class="L148"><span class="pln">      </span><span class="kwd">case </span><span class="pln"></span><span class="str">&apos;Saturday&apos;</span><span class="pln">:</span></li><li class="L149"><span class="pln">        </span><span class="kwd">return </span><span class="pln">Text(</span><span class="str">&apos;$day ${hours.Saturday}&apos;</span><span class="pln">);</span></li><li class="L150"><span class="pln">    }</span></li><li class="L151"><span class="pln">    </span><span class="kwd">return </span><span class="pln">SizedBox();</span></li><li class="L152"><span class="pln">  }</span></li><li class="L153"><span class="pln">}</span></li><li class="L154"></li></ol></pre>

<div class="mallbery-ext-normal"
     style="z-index: 2147483647 !important; text-transform: none !important; position: fixed;"></div>
<div class="mallbery-caa"
     style="z-index: 2147483647 !important; text-transform: none !important; position: fixed;"></div>
</body>
</html>
